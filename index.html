<html>
<head>
  <title>Login</title>

  <!-- StackMob Dependencies -->
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://static.stackmob.com/js/stackmob-js-0.7.0-bundled-min.js"></script>

  <!-- Example Code -->
  <script type="text/javascript">
    StackMob.init({
        appName: "coffeelog",
        clientSubdomain: "bennettbluebottlecoffeecom",
        publicKey: "8480bb0b-99bc-4acc-abc9-0a19bd5eab1e",
        apiVersion: 0
    });

    if(StackMob.isLoggedOut()){
      window.location="/login.html";
    }

    $(document).ready( function(){
      // Locations
      var Loc = StackMob.Model.extend({ schemaName: 'location' });
      var Locs = StackMob.Collection.extend({ model: Loc });
      var locations = new Locs();

      // Coffees
      var Coffee = StackMob.Model.extend({ schemaName: 'coffee' });
      var Coffees = StackMob.Collection.extend({ model: Coffee });
      var coffees = new Coffees();

      // Roasts
      var Roast = StackMob.Model.extend({ schemaName: 'roast' });
      var Roasts = StackMob.Collection.extend({ model: Roast });
      var roasts = new Roasts();

      var qAll = new StackMob.Collection.Query();

      locations.query(qAll, {
        success: function(col){
          col.each(function(model){
            $(".locations").append("<li>" + model.get('name') + "</li>");
          })
        },
        error: function(){ console.log("bad"); }
      });

      coffees.query(qAll, {
        success: function(col){
          col.each(function(model){
            $(".coffees").append("<li>" + model.get('name') + "</li>");
          })
        },
        error: function(){ console.log("bad"); }
      });

      roasts.query(qAll, {
        success: function(col){
          col.each(function(model){
            $(".roasts").append("<li>" + (new Date(model.get('date'))) + "</li>");
          })
        },
        error: function(){ console.log("bad"); }
      });

    });

  </script>

  <style type="text/css">
    /* <![CDATA[ */
    body {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    /* ]]> */
  </style>

</head>
<body>
  <h2>Locations</h2>
  <ul class="locations"></ul>

  <h2>Coffees</h2>
  <ul class="coffees"></ul>

  <h2>Roasts</h2>
  <ul class="roasts"></ul>
</body>
</html>